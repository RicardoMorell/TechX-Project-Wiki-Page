{% extends "main.html" %}

{% block content %}
<!-- 
    This code creates a form for uploading a file, with an input for the file name and a file input for the file itself. 
    When the form is submitted, it sends a POST request to the /upload endpoint with the file data. This code also includes a section for displaying any flashed messages. 
    They have different styles depending on the message category (success, error or other).
-->
    <div id="upload">
        <br><font size= 4><b>Upload</b></font>

        <p>
            <form method="POST" action="/upload" enctype="multipart/form-data">
                <label for="File name">Name your file:</label>
                <input type="text" name="File name">
                <br>
                <br><input type="file" name="File">
                <button type="submit">Upload</button>
            </form>
        </p>

        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <ul>
                    {% for message in messages %}
                        {% if message.category == 'error' %}
                            <li style="color: red">{{ message }}</li>
                        {% elif message.category == 'success' %}
                            <li style="color: green">{{ message }}</li>
                        {% else %}
                            <li>{{ message }}</li>
                        {% endif %}
                    {% endfor %}
                </ul>
            {% endif %}
        {% endwith %}
    </div>
{% endblock %}